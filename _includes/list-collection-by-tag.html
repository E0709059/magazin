{% comment %}
*   
*  By default include.limit is a string. To convert it
*  into a variable you have to use *assign*  and the
*  filter | plus:0
*  
*  Like this › assign limit = include.limit | plus:0 
*  
*  Use › include list-collection-by-tag.html collection='webdesign' tag='jekyll' limit='5' url='code'
*  
{% endcomment %}


  {% assign limit = include.limit | plus:0 %}
  {% assign counter = 0 %}


<ul class="side-nav">
  {% for page in site.[include.collection] %}
  {% if page.published == false %}
  {% elsif page.tags contains include.tag and counter < limit %}
  <li><span><a href="{{ site.url }}{{ page.url }}">{{ page.title }}</a></span></li>
  {% assign counter=counter | plus:1 %}
  {% endif %}
  {% endfor %}
  {% if include.url %}
  <li class="text-right"><a href="{{ site.url }}/{{ include.url | downcase }}/{{ include.tag | downcase }}/"><strong>Mehr ›</strong></a></li>
  {% else %}
  <li>&nbsp;</li>
  {% endif %}
</ul>
